(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(41)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(22),o=n.n(s),c=n(12),i=n(2),u=n(3),l=n(5),m=n(4),h=n(10),d=n(6),p=n(11),f=(n(30),n(31),n(32),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"toggle"},r.a.createElement("label",{className:"switch"},"dark"===this.props.theme?r.a.createElement("input",{type:"checkbox",defaultChecked:!0}):r.a.createElement("input",{type:"checkbox"}),r.a.createElement("div",{className:"slider round",onClick:this.props.theme\u0421hange})))}}]),t}(r.a.Component)),b=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"header header-"+this.props.theme},r.a.createElement("div",{className:"container"},r.a.createElement(c.b,{className:"logo",to:"/marks"},"Marks"),r.a.createElement(f,{"theme\u0421hange":this.props.theme\u0421hange,theme:this.props.theme}),this.props.userId&&r.a.createElement(c.b,{className:"link exit",to:"/marks",onClick:this.props.toOut,onMouseOver:function(){return document.querySelector(".exit").innerHTML="\u0412\u044b\u0445\u043e\u0434"},onMouseOut:function(){return document.querySelector(".exit").innerHTML=e.props.userName}},this.props.userName),r.a.createElement("a",{target:"_blank",href:"https://github.com/vatergo/extChrome"},"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435")))}}]),t}(r.a.Component),g=(n(37),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,{"theme\u0421hange":this.props.theme\u0421hange,theme:this.props.theme,userId:this.props.userId,toOut:this.props.toOut,userName:this.props.userName}),this.props.children)}}]),t}(r.a.Component)),v=(n(38),n(14)),k=n.n(v),y="https://marks-server.herokuapp.com",E=function(e){return k()("".concat(y,"/api/things"),{method:"GET",headers:{"set-cookie":"userId=".concat(e)}}).then(function(e){return e.json()})},O=function(e,t){return k()("".concat(y,"/api/things/").concat(t),{method:"DELETE",headers:{"set-cookie":"userId=".concat(e)}}).then(function(e){return e.json()})},j=function(e){return k()("".concat(y,"/api/users/").concat(e),{method:"GET"}).then(function(e){return e.json()})},I=function(e,t){var n={login:e,password:t};return k()("".concat(y,"/api/users/auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw Error(e.statusText)})},N=function(e,t){var n={login:e,password:t};return k()("".concat(y,"/api/users/reg"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw Error(e.statusText)})};function S(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function w(e,t){var n=new Date((new Date).getTime()+6e6);document.cookie="".concat(e,"=").concat(t,"; path=/; expires=")+n.toUTCString()}var C=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={list:[]},n.copy=n.copy.bind(Object(h.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"deleteProduct",value:function(e){var t=this;O(S("userId"),e).then(function(e){t.setState({list:t.state.list})})}},{key:"componentWillMount",value:function(){var e=this;E(S("userId")).then(function(t){e.setState({list:t})})}},{key:"componentWillUpdate",value:function(){var e=this;E(S("userId")).then(function(t){e.setState({list:t})})}},{key:"copy",value:function(){navigator.clipboard.writeText("https://marks-server.herokuapp.com/api/users/".concat(S("userId"))),document.querySelector(".button-copy").innerHTML="\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430",setTimeout(function(){return document.querySelector(".button-copy").innerHTML="\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"},500)}},{key:"render",value:function(){var e=this,t=this.state.list.map(function(t,n){return r.a.createElement("div",{className:"list-item",key:n},r.a.createElement("button",{className:"delete-item",onClick:e.deleteProduct.bind(e,t._id.itemId)},"\u2716"),r.a.createElement("a",{target:"_blank",href:t.link},r.a.createElement("img",{src:t.pictureUrl,alt:t._id.itemId,title:t.title})),t.price)});return r.a.createElement("div",{className:"content content-"+this.props.theme},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"headline clearfix"},r.a.createElement("h1",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0436\u0435\u043b\u0430\u043d\u0438\u0439"),r.a.createElement("span",{className:"button-copy",onClick:this.copy},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f")),r.a.createElement("div",null,r.a.createElement("div",{className:"list"},t))))}}]),t}(r.a.Component),x=(n(39),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content content-"+this.props.theme},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"auth-form"},r.a.createElement("h2",{className:"auth-caption"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("input",{type:"login",className:"textfield login",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),r.a.createElement("input",{type:"password",className:"textfield password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{type:"submit",className:"button login",onClick:this.props.logIn},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("button",{type:"button",className:"button signup",onClick:this.props.toRegister},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))))}}]),t}(r.a.Component));n(40),r.a.Component;function T(e){return e.length>4}var q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={theme:S("theme")?S("theme"):"light",userId:S("userId"),userName:""},n.theme\u0421hange=n.theme\u0421hange.bind(Object(h.a)(n)),n.logIn=n.logIn.bind(Object(h.a)(n)),n.toRegister=n.toRegister.bind(Object(h.a)(n)),n.toOut=n.toOut.bind(Object(h.a)(n)),document.querySelector("body").classList.add(n.state.theme),n.token=S("token")?S("token"):Math.random().toString(36).substr(2),w("token",n.token),w("theme",n.state.theme),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"theme\u0421hange",value:function(){"dark"===this.state.theme?(document.querySelector("body").classList.remove("dark"),document.querySelector("body").classList.add("light"),this.setState({theme:"light"}),w("theme","light")):(document.querySelector("body").classList.remove("light"),document.querySelector("body").classList.add("dark"),this.setState({theme:"dark"}),w("theme","dark"))}},{key:"logIn",value:function(){var e=this,t=document.querySelector(".login").value,n=document.querySelector(".password").value;T(t)&&T(n)?I(t,n).then(function(n){w("userId",n.userId),e.setState({userId:n.userId,userName:t})}).catch(function(e){"Unauthorized"===e.message&&alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),"Not Found"===e.message?alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"):alert(e.message)}):alert("\u041b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}},{key:"toRegister",value:function(){var e=this,t=document.querySelector(".login").value,n=document.querySelector(".password").value;T(t)&&T(n)?N(t,n).then(function(n){w("userId",n.userId),e.setState({userId:n.userId,userName:t})}).catch(function(e){"Unauthorized"===e.message?alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u043b\u043e\u0433\u0438\u043d\u043e\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"):alert(e.message)}):alert("\u041b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 7 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}},{key:"toOut",value:function(){w("userId",""),this.setState({userId:"",userName:""})}},{key:"componentWillMount",value:function(){var e=this;this.state.userId&&j(this.state.userId).then(function(t){e.setState({userName:t.userName})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g,{"theme\u0421hange":this.theme\u0421hange,theme:this.state.theme,userId:this.state.userId,toOut:this.toOut,userName:this.state.userName},this.state.userId&&r.a.createElement(p.a,{exact:!0,path:"/marks/",render:function(){return r.a.createElement(C,{theme:e.state.theme,token:e.token,userId:e.state.userId})}}),!this.state.userId&&r.a.createElement(p.a,{exact:!0,path:"/marks/",render:function(){return r.a.createElement(x,{theme:e.state.theme,logIn:e.logIn,toRegister:e.toRegister})}})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(c.a,{basename:"/"},r.a.createElement(q,null)),document.getElementById("mount-point"))}},[[25,1,2]]]);
//# sourceMappingURL=main.0c3a8b86.chunk.js.map